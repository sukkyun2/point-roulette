# 모바일 웹뷰 및 환경설정

```sql
 ╭────────────────────────────────────────────────────╮
│ ✻ Welcome to Claude Code!                          │
│                                                    │
│   /help for help, /status for your current setup   │
│                                                    │
│   cwd: /Users/goobg/Desktop/point-roulette/mobile  │
╰────────────────────────────────────────────────────╯

> 현재 flutter 기본 프로젝트를 생성했어. 하지만 나는 flutter를 잘 몰라. 내가 사용해본건 react와 ionic+capaitor 조합을 통해 웹뷰 형태로 빌드해본 경험이 있어 capacitor에 비유해서 프로젝트 구조, 역할을 
  설명해줘

⏺ Flutter 프로젝트 구조를 먼저 살펴보고 Capacitor와 비교해서 설명해드릴게요.

⏺ List(~/Desktop/point-roulette/mobile)
  ⎿  Listed 61 paths (ctrl+r to expand)

⏺ Read(pubspec.yaml)
  ⎿  Read 90 lines (ctrl+r to expand)

⏺ Read(lib/main.dart)
  ⎿  Read 123 lines (ctrl+r to expand)

⏺ Read(android/app/src/main/AndroidManifest.xml)
  ⎿  Read 46 lines (ctrl+r to expand)

⏺ Ionic + Capacitor와 비교해서 Flutter 프로젝트 구조를 설명해드리겠습니다:

  핵심 차이점

  - Ionic + Capacitor: 웹앱(HTML/CSS/JS)을 네이티브 컨테이너에 래핑
  - Flutter: 네이티브 컴파일되는 완전한 모바일 앱 (웹뷰 없음)

  프로젝트 구조 비교

  1. 메인 앱 코드

  | Capacitor           | Flutter        |
  |---------------------|----------------|
  | src/ (웹 코드)         | lib/ (Dart 코드) |
  | index.html, main.ts | main.dart      |

  - pubspec.yaml: package.json과 같은 역할 (의존성 관리)
  - lib/main.dart: React의 App.tsx와 같은 앱 진입점

  2. 플랫폼별 네이티브 코드

  | Capacitor      | Flutter        |
  |----------------|----------------|
  | android/ (생성됨) | android/ (생성됨) |
  | ios/ (생성됨)     | ios/ (생성됨)     |

  차이점:
  - Capacitor: 웹뷰를 띄우는 간단한 네이티브 컨테이너
  - Flutter: 더 복잡한 네이티브 설정 (Flutter 엔진 통합)

  3. 주요 파일 역할

  pubspec.yaml (package.json 역할):
  dependencies:
    flutter:
      sdk: flutter
    cupertino_icons: ^1.0.8  # npm 패키지 같은 개념

  lib/main.dart (앱 진입점):
  void main() {
    runApp(const MyApp());  // React의 ReactDOM.render와 유사
  }

  android/app/src/main/AndroidManifest.xml:
  - Capacitor의 AndroidManifest.xml과 유사하지만 Flutter 전용 설정 포함

  4. 개발 워크플로 비교

  | 작업      | Capacitor              | Flutter       |
  |---------|------------------------|---------------|
  | 개발 서버   | ionic serve            | flutter run   |
  | 빌드      | ionic build → cap sync | flutter build |
  | 네이티브 코드 | 필요시에만 수정               | 거의 수정 안함      |
  | 핫 리로드   | 웹 새로고침                 | Flutter 핫 리로드 |

  5. 플러그인/패키지 시스템

  | Capacitor         | Flutter         |
  |-------------------|-----------------|
  | Capacitor 플러그인    | Flutter 패키지     |
  | @capacitor/camera | camera 패키지      |
  | npm install       | flutter pub get |

  6. 성능 차이

  - Capacitor: 웹뷰 기반이라 DOM 렌더링 성능
  - Flutter: 네이티브 성능 (Skia 엔진 직접 렌더링)

  7. UI 개발 방식

  - Ionic: HTML + CSS + 웹 컴포넌트
  - Flutter: 위젯 트리 (React의 컴포넌트 트리와 유사)

  현재 프로젝트는 기본 카운터 앱이 설정되어 있어, React 경험이 있다면 Widget 기반 개발 방식이 익숙할 거예요.

> 그러면 capacitor처럼 android 하위 구조는 거의 건들지 않는건가? 아이콘 수정이나 앱 이름 manifest 수정 등 제외하고?

⏺ 맞습니다! Flutter에서도 Capacitor와 매우 유사하게 android/ 하위 구조는 거의 건드리지 않습니다.

⏺ Read(android/app/src/main/kotlin/com/example/mobile/MainActivity.kt)
  ⎿  Read 6 lines (ctrl+r to expand)

⏺ Read(android/app/build.gradle.kts)
  ⎿  Read 45 lines (ctrl+r to expand)

⏺ 네, 정확히 맞습니다! Flutter에서 android/ 구조는 Capacitor와 거의 동일한 방식으로 관리됩니다.

  거의 건드리지 않는 파일들

  MainActivity.kt (5줄뿐!)

  class MainActivity : FlutterActivity()  // 끝!
  - Capacitor의 MainActivity처럼 거의 빈 껍데기
  - Flutter 엔진이 모든 걸 처리

  build.gradle.kts

  - 대부분 자동 설정 (flutter.compileSdkVersion 등)
  - Capacitor처럼 복잡한 웹뷰 설정 없음

  수정하는 경우들 (Capacitor와 동일)

  1. 앱 기본 정보 변경

  | 항목   | 파일                    | 비교            |
  |------|-----------------------|---------------|
  | 앱 이름 | AndroidManifest.xml   | Capacitor와 동일 |
  | 패키지명 | build.gradle.kts      | Capacitor와 동일 |
  | 아이콘  | res/mipmap-*/         | Capacitor와 동일 |
  | 버전   | build.gradle.kts (자동) | Capacitor는 수동 |

  2. 권한 추가

  <!-- AndroidManifest.xml -->
  <uses-permission android:name="android.permission.CAMERA" />
  - Capacitor와 정확히 같은 방식

  3. 특별한 네이티브 기능이 필요할 때만

  - Platform Channels 사용 (매우 드문 경우)
  - Custom Plugin 개발 시
  - Deep Link 설정 시

  Flutter의 장점

  // Capacitor MainActivity (복잡)
  override fun onCreate() {
      // 웹뷰 설정, 플러그인 등록 등...
  }

  // Flutter MainActivity (간단)
  class MainActivity : FlutterActivity()  // 끝!

  결론: Flutter는 Capacitor보다도 더 간단합니다. 네이티브 코드를 거의 건드릴 필요가 없어요.

> @.metadata 나 @analysis_options.yaml 이런것도 커밋해도 상관없나?
  ⎿  Read .metadata (31 lines)
  ⎿  Read analysis_options.yaml (29 lines)

⏺ 네, 둘 다 커밋해도 됩니다! 하지만 역할이 다릅니다:

  .metadata - 커밋 필수 ✅

  # This file should be version controlled and should not be manually edited.
  - Flutter 프로젝트 메타데이터 (Flutter 버전, 플랫폼 등)
  - 팀 전체가 같은 Flutter 설정을 유지하기 위해 필요
  - Capacitor의 capacitor.config.ts와 비슷한 역할

  analysis_options.yaml - 커밋 권장 ✅

  include: package:flutter_lints/flutter.yaml
  - Dart 코드 린팅 규칙 설정
  - 팀 전체가 같은 코드 스타일을 유지하기 위해 필요
  - React 프로젝트의 .eslintrc.js와 동일한 역할

  비교표

  | 파일                    | 역할              | React/Capacitor 비교  | 커밋 여부        |
  |-----------------------|-----------------|---------------------|--------------|
  | .metadata             | Flutter 프로젝트 설정 | capacitor.config.ts | ✅ 필수         |
  | analysis_options.yaml | 코드 린팅 규칙        | .eslintrc.js        | ✅ 권장         |
  | pubspec.lock          | 의존성 잠금 파일       | package-lock.json   | ✅ 권장         |
  | build/                | 빌드 결과물          | dist/, www/         | ❌ .gitignore |

  결론: 둘 다 커밋하는 게 좋습니다. 팀 개발 시 일관된 환경을 유지할 수 있어요.

```

```sql
╭────────────────────────────────────────────────────╮
│ ✻ Welcome to Claude Code!                          │
│                                                    │
│   /help for help, /status for your current setup   │
│                                                    │
│   cwd: /Users/goobg/Desktop/point-roulette/mobile  │
╰────────────────────────────────────────────────────╯

> 현재 앱을 실행하게되면 웹뷰화면을 제공해야해 웹뷰화면은 https로되어있는 사이트를 제공할거고 관련해서 수정계획을 세워줘 그리고 웹뷰로 전환되었을 때 필요없는 코드도 제거하려고해 그래서 그것까지 
  같이 고려해

⏺ 현재 모바일 앱을 웹뷰 기반으로 전환하기 위한 계획을 세우겠습니다. 먼저 현재 프로젝트 구조를 파악해보겠습니다.

⏺ List(~/Desktop/point-roulette/mobile)
  ⎿  Listed 61 paths (ctrl+r to expand)

⏺ Read(pubspec.yaml)
  ⎿  Read 90 lines (ctrl+r to expand)

⏺ Read(lib/main.dart)
  ⎿  Read 123 lines (ctrl+r to expand)

⏺ Read(android/app/src/main/AndroidManifest.xml)
  ⎿  Read 46 lines (ctrl+r to expand)

⏺ List(~/Desktop/point-roulette)
  ⎿  Listed 103 paths (ctrl+r to expand)
  ⎿  User rejected Claude's plan:
     ╭────────────────────────────────────────────────────────────╮
     │ 웹뷰 전환 계획                                             │
     │                                                            │
     │ 현재 Flutter 앱을 웹뷰 기반으로 전환하는 계획입니다.       │
     │                                                            │
     │ 현재 상태 분석                                             │
     │                                                            │
     │ - 기본 Flutter 템플릿 코드 (카운터 앱)                     │
     │ - API 서버와 UI가 별도로 존재                              │
     │ - HTTPS 웹사이트를 웹뷰로 표시 필요                        │
     │                                                            │
     │ 주요 작업                                                  │
     │                                                            │
     │ 1. 웹뷰 의존성 추가                                        │
     │                                                            │
     │ - pubspec.yaml에 webview_flutter 패키지 추가               │
     │                                                            │
     │ 2. 안드로이드 권한 설정                                    │
     │                                                            │
     │ - AndroidManifest.xml에 인터넷 권한 추가                   │
     │ - 클리어텍스트 트래픽 허용 설정 (개발용)                   │
     │                                                            │
     │ 3. 메인 앱 코드 대체                                       │
     │                                                            │
     │ - lib/main.dart의 기본 템플릿 코드를 웹뷰로 완전 교체      │
     │ - HTTPS URL 설정 및 웹뷰 구성                              │
     │                                                            │
     │ 4. 불필요한 코드 제거                                      │
     │                                                            │
     │ - 카운터 앱 관련 모든 코드 삭제                            │
     │ - 사용하지 않는 위젯 및 상태 관리 코드 정리                │
     │ - 테스트 파일 업데이트 또는 제거                           │
     │                                                            │
     │ 5. 설정 최적화                                             │
     │                                                            │
     │ - 앱 이름 및 패키지명 변경 (필요시)                        │
     │ - 아이콘 및 스플래시 스크린 설정                           │
     │                                                            │
     │ 이 계획대로 진행하면 간단하고 깔끔한 웹뷰 앱이 완성됩니다. │
     ╰────────────────────────────────────────────────────────────╯

> 5번은 나중에 진행할거야

⏺ 웹뷰 전환 계획 (수정)

  현재 Flutter 앱을 웹뷰 기반으로 전환하는 계획입니다.

  현재 상태 분석

  - 기본 Flutter 템플릿 코드 (카운터 앱)
  - API 서버와 UI가 별도로 존재
  - HTTPS 웹사이트를 웹뷰로 표시 필요

  주요 작업

  1. 웹뷰 의존성 추가

  - pubspec.yaml에 webview_flutter 패키지 추가

  2. 안드로이드 권한 설정

  - AndroidManifest.xml에 인터넷 권한 추가
  - 클리어텍스트 트래픽 허용 설정 (개발용)

  3. 메인 앱 코드 대체

  - lib/main.dart의 기본 템플릿 코드를 웹뷰로 완전 교체
  - HTTPS URL 설정 및 웹뷰 구성

  4. 불필요한 코드 제거

  - 카운터 앱 관련 모든 코드 삭제
  - 사용하지 않는 위젯 및 상태 관리 코드 정리
  - 테스트 파일 업데이트 또는 제거

  5. 설정 최적화 (나중에 진행)

  이 계획대로 진행하면 간단하고 깔끔한 웹뷰 앱이 완성됩니다.
                                                               
⏺ User approved Claude's plan:
  ⎿  웹뷰 전환 계획

     현재 Flutter 앱을 웹뷰 기반으로 전환하는 계획입니다.

     현재 상태 분석

     - 기본 Flutter 템플릿 코드 (카운터 앱)
     - API 서버와 UI가 별도로 존재
     - HTTPS 웹사이트를 웹뷰로 표시 필요

     주요 작업

     1. 웹뷰 의존성 추가

     - pubspec.yaml에 webview_flutter 패키지 추가

     2. 안드로이드 권한 설정

     - AndroidManifest.xml에 인터넷 권한 추가
     - 클리어텍스트 트래픽 허용 설정 (개발용)

     3. 메인 앱 코드 대체

     - lib/main.dart의 기본 템플릿 코드를 웹뷰로 완전 교체
     - HTTPS URL 설정 및 웹뷰 구성

     4. 불필요한 코드 제거

     - 카운터 앱 관련 모든 코드 삭제
     - 사용하지 않는 위젯 및 상태 관리 코드 정리
     - 테스트 파일 업데이트 또는 제거

     이 계획대로 진행하면 간단하고 깔끔한 웹뷰 앱이 완성됩니다.

⏺ Update(pubspec.yaml)
  ⎿  Updated pubspec.yaml with 1 addition                                        
       34      # The following adds the Cupertino Icons font to your application.
       35      # Use with the CupertinoIcons class for iOS style icons.
       36      cupertino_icons: ^1.0.8
       37 +    webview_flutter: ^4.4.2
       38    
       39    dev_dependencies:
       40      flutter_test:

⏺ Update(android/app/src/main/AndroidManifest.xml)
  ⎿  Updated android/app/src/main/AndroidManifest.xml with 1 addition            
       1    <manifest xmlns:android="http://schemas.android.com/apk/res/android">
       2 +      <uses-permission android:name="android.permission.INTERNET" />
       3        <application
       4            android:label="mobile"
       5            android:name="${applicationName}"

⏺ Update(android/app/src/main/AndroidManifest.xml)
  ⎿  Updated android/app/src/main/AndroidManifest.xml with 2 additions and 1 removal
        3        <application
        4            android:label="mobile"
        5            android:name="${applicationName}"
        6 -          android:icon="@mipmap/ic_launcher">
        6 +          android:icon="@mipmap/ic_launcher"
        7 +          android:usesCleartextTraffic="true">
        8            <activity
        9                android:name=".MainActivity"
       10                android:exported="true"

⏺ Update(lib/main.dart)
  ⎿  Updated lib/main.dart with 18 additions and 90 removals                                 
       1    import 'package:flutter/material.dart';
       2 +  import 'package:webview_flutter/webview_flutter.dart';
       3    
       4    void main() {
       5      runApp(const MyApp());
     ...
        7    class MyApp extends StatelessWidget {
        8      const MyApp({super.key});
        9    
       10 -    // This widget is the root of your application.
       10      @override
       11      Widget build(BuildContext context) {
       12        return MaterialApp(
       13 -        title: 'Flutter Demo',
       13 +        title: 'Point Roulette',
       14          theme: ThemeData(
       15 -          // This is the theme of your application.
       16 -          //
       17 -          // TRY THIS: Try running your application with "flutter run". You'll see
       18 -          // the application has a purple toolbar. Then, without quitting the app,
       19 -          // try changing the seedColor in the colorScheme below to Colors.green
       20 -          // and then invoke "hot reload" (save your changes or press the "hot
       21 -          // reload" button in a Flutter-supported IDE, or press "r" if you used
       22 -          // the command line to start the app).
       23 -          //
       24 -          // Notice that the counter didn't reset back to zero; the application
       25 -          // state is not lost during the reload. To reset the state, use hot
       26 -          // restart instead.
       27 -          //
       28 -          // This works for code too, not just values: Most code changes can be
       29 -          // tested with just a hot reload.
       30 -          colorScheme: .fromSeed(seedColor: Colors.deepPurple),
       15 +          colorScheme: ColorScheme.fromSeed(seedColor: Colors.deepPurple),
       16 +          useMaterial3: true,
       17          ),
       18 -        home: const MyHomePage(title: 'Flutter Demo Home Page'),
       18 +        home: const WebViewPage(),
       19        );
       20      }
       21    }
       22    
       23 -  class MyHomePage extends StatefulWidget {
       24 -    const MyHomePage({super.key, required this.title});
       23 +  class WebViewPage extends StatefulWidget {
       24 +    const WebViewPage({super.key});
       25    
       26 -    // This widget is the home page of your application. It is stateful, meaning
       27 -    // that it has a State object (defined below) that contains fields that affect
       28 -    // how it looks.
       29 -  
       30 -    // This class is the configuration for the state. It holds the values (in this
       31 -    // case the title) provided by the parent (in this case the App widget) and
       32 -    // used by the build method of the State. Fields in a Widget subclass are
       33 -    // always marked "final".
       34 -  
       35 -    final String title;
       36 -  
       26      @override
       27 -    State<MyHomePage> createState() => _MyHomePageState();
       27 +    State<WebViewPage> createState() => _WebViewPageState();
       28    }
       29    
       30 -  class _MyHomePageState extends State<MyHomePage> {
       31 -    int _counter = 0;
       30 +  class _WebViewPageState extends State<WebViewPage> {
       31 +    late final WebViewController controller;
       32    
       33 -    void _incrementCounter() {
       34 -      setState(() {
       35 -        // This call to setState tells the Flutter framework that something has
       36 -        // changed in this State, which causes it to rerun the build method below
       37 -        // so that the display can reflect the updated values. If we changed
       38 -        // _counter without calling setState(), then the build method would not be
       39 -        // called again, and so nothing would appear to happen.
       40 -        _counter++;
       41 -      });
       33 +    @override
       34 +    void initState() {
       35 +      super.initState();
       36 +      controller = WebViewController()
       37 +        ..setJavaScriptMode(JavaScriptMode.unrestricted)
       38 +        ..loadRequest(Uri.parse('https://localhost:3000'));
       39      }
       40    
       41      @override
       42      Widget build(BuildContext context) {
       43 -      // This method is rerun every time setState is called, for instance as done
       44 -      // by the _incrementCounter method above.
       45 -      //
       46 -      // The Flutter framework has been optimized to make rerunning build methods
       47 -      // fast, so that you can just rebuild anything that needs updating rather
       48 -      // than having to individually change instances of widgets.
       43        return Scaffold(
       44 -        appBar: AppBar(
       45 -          // TRY THIS: Try changing the color here to a specific color (to
       46 -          // Colors.amber, perhaps?) and trigger a hot reload to see the AppBar
       47 -          // change color while the other colors stay the same.
       48 -          backgroundColor: Theme.of(context).colorScheme.inversePrimary,
       49 -          // Here we take the value from the MyHomePage object that was created by
       50 -          // the App.build method, and use it to set our appbar title.
       51 -          title: Text(widget.title),
       44 +        body: SafeArea(
       45 +          child: WebViewWidget(controller: controller),
       46          ),
       47 -        body: Center(
       48 -          // Center is a layout widget. It takes a single child and positions it
       49 -          // in the middle of the parent.
       50 -          child: Column(
       51 -            // Column is also a layout widget. It takes a list of children and
       52 -            // arranges them vertically. By default, it sizes itself to fit its
       53 -            // children horizontally, and tries to be as tall as its parent.
       54 -            //
       55 -            // Column has various properties to control how it sizes itself and
       56 -            // how it positions its children. Here we use mainAxisAlignment to
       57 -            // center the children vertically; the main axis here is the vertical
       58 -            // axis because Columns are vertical (the cross axis would be
       59 -            // horizontal).
       60 -            //
       61 -            // TRY THIS: Invoke "debug painting" (choose the "Toggle Debug Paint"
       62 -            // action in the IDE, or press "p" in the console), to see the
       63 -            // wireframe for each widget.
       64 -            mainAxisAlignment: .center,
       65 -            children: [
       66 -              const Text('You have pushed the button this many times:'),
       67 -              Text(
       68 -                '$_counter',
       69 -                style: Theme.of(context).textTheme.headlineMedium,
       70 -              ),
       71 -            ],
       72 -          ),
       73 -        ),
       74 -        floatingActionButton: FloatingActionButton(
       75 -          onPressed: _incrementCounter,
       76 -          tooltip: 'Increment',
       77 -          child: const Icon(Icons.add),
       78 -        ),
       47        );
       48      }
       49    }

⏺ Update(pubspec.yaml)
  ⎿  Updated pubspec.yaml with 3 removals                                        
       31      flutter:
       32        sdk: flutter
       33    
       34 -    # The following adds the Cupertino Icons font to your application.
       35 -    # Use with the CupertinoIcons class for iOS style icons.
       36 -    cupertino_icons: ^1.0.8
       34      webview_flutter: ^4.4.2
       35    
       36    dev_dependencies:

⏺ Read(test/widget_test.dart)
  ⎿  Read 31 lines (ctrl+r to expand)

⏺ Update(test/widget_test.dart)
  ⎿  Updated test/widget_test.dart with 3 additions and 20 removals                          
        1 -  // This is a basic Flutter widget test.
        2 -  //
        3 -  // To perform an interaction with a widget in your test, use the WidgetTester
        4 -  // utility in the flutter_test package. For example, you can send tap and scroll
        5 -  // gestures. You can also use WidgetTester to find child widgets in the widget
        6 -  // tree, read text, and verify that the values of widget properties are correct.
        7 -  
        1    import 'package:flutter/material.dart';
        2    import 'package:flutter_test/flutter_test.dart';
        3    
        4    import 'package:mobile/main.dart';
        5    
        6    void main() {
        7 -    testWidgets('Counter increments smoke test', (WidgetTester tester) async {
        8 -      // Build our app and trigger a frame.
        7 +    testWidgets('WebView app smoke test', (WidgetTester tester) async {
        8        await tester.pumpWidget(const MyApp());
        9    
       10 -      // Verify that our counter starts at 0.
       11 -      expect(find.text('0'), findsOneWidget);
       12 -      expect(find.text('1'), findsNothing);
       13 -  
       14 -      // Tap the '+' icon and trigger a frame.
       15 -      await tester.tap(find.byIcon(Icons.add));
       16 -      await tester.pump();
       17 -  
       18 -      // Verify that our counter has incremented.
       19 -      expect(find.text('0'), findsNothing);
       20 -      expect(find.text('1'), findsOneWidget);
       10 +      expect(find.byType(MaterialApp), findsOneWidget);
       11 +      expect(find.text('Point Roulette'), findsNothing);
       12      });
       13    }

⏺ 웹뷰 전환 작업이 완료되었습니다!

  주요 변경사항:
  - webview_flutter 패키지 추가
  - 안드로이드 인터넷 권한 및 클리어텍스트 트래픽 허용 설정
  - 기본 카운터 앱 코드를 웹뷰 기반 앱으로 완전 교체
  - 불필요한 의존성 제거 및 테스트 파일 업데이트

  현재 https://localhost:3000으로 설정되어 있는데, 실제 HTTPS URL로 변경하시면 됩니다.

> 의존성 설치도 해야겠지?

⏺ 네, 맞습니다! 새로 추가한 webview_flutter 패키지 의존성을 설치해야 합니다.

⏺ Bash(flutter pub get)
  ⎿  Resolving dependencies...       
     Downloading packages...
       meta 1.18.0 (1.18.1 available)
     … +10 lines (ctrl+r to expand)

⏺ 의존성 설치가 완료되었습니다! webview_flutter 패키지와 관련 플랫폼별 패키지들이 성공적으로 설치되었고, 사용하지 않는 cupertino_icons 패키지는 자동으로 제거되었습니다.

  이제 앱을 실행할 수 있습니다.

> @lib/main.dart에서 ..loadRequest(Uri.parse('https://localhost:3000')); 이 부분 별도의 환경변수 처리하고 싶은데
  ⎿  Read lib/main.dart (51 lines)
  ⎿  ⧉ Selected 1 lines from lib/main.dart in Android Studio

⏺ 환경변수로 URL을 관리하는 것이 좋은 아이디어입니다. Flutter에서 환경변수를 처리하는 방법을 구현해보겠습니다.

⏺ Write(.env)
  ⎿  Wrote 1 lines to .env         
     WEB_URL=https://localhost:3000

⏺ Write(.env.example)
  ⎿  Wrote 1 lines to .env.example 
     WEB_URL=https://localhost:3000

⏺ Update(pubspec.yaml)
  ⎿  Updated pubspec.yaml with 1 addition
       32        sdk: flutter
       33    
       34      webview_flutter: ^4.4.2
       35 +    flutter_dotenv: ^5.1.0
       36    
       37    dev_dependencies:
       38      flutter_test:

⏺ Update(pubspec.yaml)
  ⎿  Updated pubspec.yaml with 3 additions                                           
       56      # the material Icons class.
       57      uses-material-design: true
       58    
       59 +    assets:
       60 +      - .env
       61 +  
       62      # To add assets to your application, add an assets section, like this:
       63      # assets:
       64      #   - images/a_dot_burr.jpeg

⏺ Write(lib/config/env_config.dart)
  ⎿  Wrote 5 lines to lib/config/env_config.dart                                     
     import 'package:flutter_dotenv/flutter_dotenv.dart';
     class EnvConfig {
       static String get webUrl => dotenv.env['WEB_URL'] ?? 'https://localhost:3000';
     }

⏺ Update(lib/main.dart)
  ⎿  Updated lib/main.dart with 5 additions and 1 removal          
        1    import 'package:flutter/material.dart';
        2 +  import 'package:flutter_dotenv/flutter_dotenv.dart';
        3    import 'package:webview_flutter/webview_flutter.dart';
        4 +  import 'config/env_config.dart';
        5    
        6 -  void main() {
        6 +  void main() async {
        7 +    WidgetsFlutterBinding.ensureInitialized();
        8 +    await dotenv.load(fileName: '.env');
        9      runApp(const MyApp());
       10    }
       11    
  ⎿  Found 2 new diagnostic issues in 1 file (ctrl-r to expand)

⏺ Update(lib/main.dart)
  ⎿  Updated lib/main.dart with 1 addition and 1 removal              
       40        super.initState();
       41        controller = WebViewController()
       42          ..setJavaScriptMode(JavaScriptMode.unrestricted)
       43 -        ..loadRequest(Uri.parse('https://localhost:3000'));
       43 +        ..loadRequest(Uri.parse(EnvConfig.webUrl));
       44      }
       45    
       46      @override

⏺ Bash(flutter pub get)
  ⎿  Resolving dependencies...               
     Downloading packages...
     + flutter_dotenv 5.2.1 (6.0.0 available)
     … +4 lines (ctrl+r to expand)

⏺ 환경변수 처리가 완료되었습니다!

  변경 내용:
  - .env 파일 생성 (WEB_URL 환경변수 설정)
  - .env.example 템플릿 파일 생성
  - flutter_dotenv 패키지 추가 및 설치
  - EnvConfig 클래스로 환경변수 관리
  - main.dart에서 환경변수 사용하도록 수정

  이제 .env 파일에서 WEB_URL을 변경하면 웹뷰에서 로드할 URL을 쉽게 변경할 수 있습니다.

```